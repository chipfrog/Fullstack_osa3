{"version":3,"sources":["components/Person.js","components/Contacts.js","components/Filter.js","components/PersonForm.js","services/Communication.js","components/Notification.js","App.js","index.js"],"names":["Person","props","name","number","buttonFunction","deletePerson","react_default","a","createElement","onClick","showContacts","persons","filter","person","toLowerCase","includes","newFilter","map","components_Person","key","id","Filter","value","onChange","handler","Form","onSubmit","addName","nameHandler","numberHandler","type","url","Communication","axios","get","then","response","data","newContact","post","newNumber","put","concat","delete","Notification","message","className","class","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewFilter","_useState9","_useState10","setMessage","_useState11","_useState12","messageStyle","setMessageStyle","useEffect","initialPersons","update","personToUpdate","index","setMessageSettings","updateContactsWithNewNumber","console","log","catch","error","hideDeleted","style","setTimeout","newList","copy","toConsumableArray","components_Notification","components_Filter","event","target","PersonForm","preventDefault","window","confirm","find","findIndex","returnedPerson","JSON","stringify","Contacts","personToDelete","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.cc1fd924.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = (props) => {\n  const name = props.name\n  const number = props.number\n  const buttonFunction = props.deletePerson\n  \n  return (\n      <div>\n        {name} {number}\n        <button onClick={buttonFunction}>delete</button>\n      </div>\n    )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\n\nconst showContacts = (props) => {\n  const contactsToShow = props.persons.filter(person => \n  person.name.toLowerCase().includes(props.newFilter.toLowerCase()))\n  \n  return (\n    contactsToShow.map(person => \n      <Person key={person.id} name={person.name} \n      number={person.number} deletePerson={() => props.deletePerson(person.id)}/>)\n    )\n  \n  }\n\nexport default showContacts","import React from 'react'\n\nconst Filter = (props) => {\n  return (\n    <div>\n      filter shown with: <input\n      value={props.newFilter}\n      onChange={props.handler} />\n    </div>\n  )\n}\nexport default Filter","import React from 'react'\n\nconst Form = (props) => {\n  return (\n    <form onSubmit={props.addName}>\n      <div>\n        name: <input \n        value={props.name}\n        onChange={props.nameHandler} />\n      </div>\n      <div>\n        number: <input \n        value={props.number}\n        onChange={props.numberHandler} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default Form\n\n","import axios from 'axios'\n\nconst url = '/api/persons'\n\nconst getContacts = () => {\n  const request = axios.get(url)\n  return request.then(response => response.data)\n}\n\nconst create = newContact => {\n  const request = axios.post(url, newContact)\n  return request.then(response => response.data)\n}\n\nconst update = (person, newNumber) => {\n  const request = axios.put(`${url}/${person.id}`, {\n    name: person.name,\n    number: newNumber\n  })\n  return request.then(response => response.data)\n}\n\nconst deleteContact = (id) => {\n  const request = axios.delete(`${url}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default {getContacts, create, update, deleteContact}","import React from 'react'\n\nconst Notification = (props) => {\n  if (props.message === null) {\n    return null\n  }\n  return (\n    <div className={props.class}>\n      {props.message}\n    </div>\n  )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Contacts from './components/Contacts'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Communication from './services/Communication'\nimport Notification from './components/Notification'\nimport './index.css'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ message, setMessage ] = useState(null)\n  const [ messageStyle, setMessageStyle ] = useState('')\n  \n  useEffect(() => {\n    Communication\n      .getContacts()\n      .then(initialPersons => {setPersons(initialPersons)})\n  }, [])\n\n  const addName = (event) => {\n    event.preventDefault()\n    const person = {\n      name: newName,\n      number: newNumber\n    }\n    if (newName === '' || newNumber === '') {\n      setMessage(`Name or number can't be empty!`)\n      setMessageSettings('error')\n      \n    } \n    else if (!persons.map(person => person.name).includes(newName)) {\n    Communication\n      .create(person)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setMessage(`${person.name} was added succesfully!`)\n          setMessageSettings('success')\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(error => {\n          console.log(error.response.data)\n          const message = JSON.stringify(error.response.data)\n          setMessage(message)\n          setMessageSettings('error')\n        })\n        \n    } else if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) { \n        const personToUpdate = persons.find(person => person.name === newName)\n        const index = persons.findIndex(person => person.name === newName)\n        update(personToUpdate, index)\n    }\n  }\n  const update = (personToUpdate, index) => {\n    Communication\n          .update(personToUpdate, newNumber)\n          .then(response => {\n            setMessage(`Updated ${personToUpdate.name}'s number succesfully!`)\n            setMessageSettings('success')\n            updateContactsWithNewNumber(index)\n            console.log(newNumber)\n          })\n          .catch(error => {\n            setMessage(`Information of ${personToUpdate.name} has already been removed from the server`)\n            setMessageSettings('error') \n            hideDeleted(personToUpdate.id)\n          })\n    \n  }\n  const handleDelete = (id) => {\n    const personToDelete = persons.find(person => person.id === id)\n    if (window.confirm('Delete ' + personToDelete.name + '?')) {\n      Communication\n        .deleteContact(id)\n        .then(setMessage(`Removed ${personToDelete.name} succesfully!`), setMessageSettings('success'))\n          \n      hideDeleted(id) \n    }\n  }\n\n  const setMessageSettings = (style) => {\n    setMessageStyle(`${style}`)\n    setTimeout(() => {setMessage(null)}, 3000)\n  }\n  \n  const hideDeleted = (id) => {\n    const newList = persons.filter(person => person.id !== id)\n    setPersons(newList) \n  }\n\n  const updateContactsWithNewNumber = (index) => {\n    const copy = [...persons]\n    copy[index].number = newNumber  \n    setPersons(copy)\n  }\n  \n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFiltering = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n        <Notification message={message} class={messageStyle} />\n        <Filter newFilter={newFilter} handler={handleFiltering}/>\n      <h2>add a new contact</h2>\n        <PersonForm addName={addName} name={newName} nameHandler={handleNameChange}\n        number={newNumber} numberHandler={handleNumberChange} />\n      <h2>Numbers</h2>\n        <Contacts persons={persons} deletePerson={handleDelete} newFilter={newFilter}/>\n    </div>\n  )\n}\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}